!:
::  /=main=/toy/hi/hoon
::
=>  .(-< `who=@p`-<)
|=  *
|=  [ebb=$|(~ [tex=tape ~])]
=+  bud=(sein who)
^-  bowl
:-  :~  [%sq bud %ye /request ?~(ebb '' (rap 3 tex.ebb))]
    ==
:-  ~
:-  ^-  (list slip)
    :~  [/request [%ow ~]]
        [/prompt [%up %none "waiting for {(scow %p bud)}" ~]]
    ==
|=  [now=@da pax=path nut=note]
?>  =(/request pax)
?>  ?=(%ow -.nut)
:-  ?:  =(%good p.nut)
      ~
    :_  ~
    :-  %ha
    :-  %leaf
    "hi: {(scow %p bud)} rejected a message"
~
